{"version":3,"sources":["health.js","layout.js","position.js","slider.js","speedgauge.js","update.js","buttons.js","gauge.js"],"names":["startCheck","data","DATA","markCheck","PWR_Voltage_1","PWR_Voltage_2","MIN_VOLTAGE","PWR_Temperature_1","PWR_Temperature_2","NAV_LTS_Brake_1_2","NAV_LTS_Brake_3_4","BRAKE_PAD","CTRL_LTS_Height_1_2","CTRL_LTS_Height_3_4","LEVITATION","Nav_Acceleration","Nav_Velocity","CTRL_Pressure","MAX_PRESSURE","CTRL_Temperature","NOM_TEMP","count","checks","length","$","append","checkno","stat","html","css","color","loadSVG","file","id","xhr","XMLHttpRequest","open","onreadystatechange","readyState","svg","responseXML","documentElement","document","importNode","send","PositionIndicator","parameters","x","this","Slider","obj","input","slider","range","max","min","value","slide","e","ui","val","change","SpeedGauge","deg2rad","angle","Math","PI","rad2deg","update","comm_primary","removeClass","addClass","comm_secondary","text","comm_current","Team_Id","parseFloat","Status_pod","pod_state","console_entry","timestamp","i","bat","find","Nav_RR_Strip_Count","p","updateStripCount","Nav_Position","updatePosition","v","setStatValue","a","Nav_Yaw","yaw","setValueAnimated","Nav_Pitch","pitch","Nav_Roll","roll","Nav_LTS_Brake_1_2","Nav_LTS_Brake_3_4","avg_Brake_Pad","sendCommand","command_name","socket","emit","is","closest","trigger","attr","collapsible","click","each","Gauge","window","getElementById","dialStartAngle","dialEndAngle","label","String","fromCharCode","all_checks","setTimeout","sideNav","edge","closeOnClick","draggable","onOpen","el","onClose","console","log","width","prototype","init","count_label","unit","addCSS","ticks","details","outerRingRadius","theta","radius","transform","cos","sin","join","-webkit-transform","-moz-transform","border-color","position","brakes","aux","initGauge","digits","progress","digitRingRadius","y","frameCount","frameInterval","digitValueMax","statValueMax","statValueCurrent","statValueInterval","updateDetails","toFixed","io","connect","on"],"mappings":"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","file":"script.min.js","sourcesContent":["var all_checks = [ \n  \"Computer Mode Operational\",\n  \"Telemetry Stream Active\",\n  \"Emergency brakes - disengaged\",\n  \"UI reading of Pod relay state\",\n  \"Battery packs sufficiently charged.\",\n  \"UI reading of Battery temperature\",\n  \"Brake pads are still at 32 mm\",\n  \"Levitation module is at 45 mm\",\n  \"Zero acceleration in all axes\",\n  \"Zero velocity in all axes\",\n  \"External pressure is 860Pa\",\n  \"Nominal temperatures\",\n  \"SpaceX Pusher Status - Ready\"\n];\n\nvar checks = [ \n  \"Telemetry Stream Active\",\n  \"Battery packs sufficiently charged.\",\n  \"UI reading of Battery temperature\",\n  \"Brake pads are still at 32 mm\",\n  \"Levitation module is at 45 mm\",\n  \"Zero acceleration in all axes\",\n  \"Zero velocity in all axes\",\n  \"External pressure is 860Pa\",\n  \"Nominal temperatures\",\n];\n\n// constants \nvar MIN_VOLTAGE = 0.1;\nvar BRAKE_PAD = 32;\nvar LEVITATION = 45;\nvar MAX_PRESSURE = 860;\nvar NOM_TEMP = 30;  \n\nfor(var i in checks) {\n  // append each check name into the health display\n  $('#health-display').append('<div class=\"check-item\" id=\"chk'+i+'\"><i class=\"status material-icons\">cached</i><span class=\"check-item-name\">'+checks[i]+'</span></div>');\n}\n\n$('#start-check').click(function() {\n // $('.health .collapsible').collapsible('open', 0);\n  setTimeout(function(){startCheck()},400);\n});\nvar count;\n  \nfunction startCheck() {\n  var data = DATA;\n  markCheck(0, (data)?true:false) ;\n  \n  markCheck(1, (data.PWR_Voltage_1 && data.PWR_Voltage_2 && data.PWR_Voltage_1 > MIN_VOLTAGE && data.PWR_Voltage_2 > MIN_VOLTAGE)?true:false);\n  \n  markCheck(2, (data.PWR_Temperature_1 && data.PWR_Temperature_2)?true:false);\n\n  markCheck(3, (data.NAV_LTS_Brake_1_2 && data.NAV_LTS_Brake_3_4 && data.NAV_LTS_Brake_1_2>BRAKE_PAD && data.NAV_LTS_Brake_3_4 > BRAKE_PAD)?true:false);\n  \n  markCheck(4, (data.CTRL_LTS_Height_1_2 && data.CTRL_LTS_Height_3_4 && data.CTRL_LTS_Height_1_2>LEVITATION && data.CTRL_LTS_Height_3_4 > LEVITATION)?true:false);\n  \n  markCheck(5, (data.Nav_Acceleration > 0)?true:false);\n  \n  markCheck(6, (data.Nav_Velocity > 0)?true:false);\n  \n  markCheck(7, (data.CTRL_Pressure > MAX_PRESSURE)?true:false);\n  \n  markCheck(8, (data.CTRL_Temperature > NOM_TEMP)?true:false);\n  \n  if(count == checks.length) {\n    $('#health-display').append('<p  class=\"check-item\">All Health Checks Passed. Pod is ready for Launch! </p>');\n  }\n}\n\nfunction markCheck(checkno,stat) {\n  stat?(count++):0;\n  $('#chk'+checkno+' .status')\n    .html(stat?'check':'close')\n    .css({\n      'color': stat?'green':'red',\n    });\n}","$('#left-sidebar-control').sideNav({\n      //menuWidth: $(window).width()*(3/12), // Default is 300\n      edge: 'left', // Choose the horizontal origin\n      closeOnClick: false, // Closes side-nav on <a> clicks, useful for Angular/Meteor\n      draggable: false, // Choose whether you can drag to open on touch screens,\n      onOpen: function(el) { /* Do Stuff */ }, // A function to be called when sideNav is opened\n      onClose: function(el) { /* Do Stuff */ }, // A function to be called when sideNav is closed\n    }\n  );\n$('#right-sidebar-control').sideNav({\n      //menuWidth: $(window).width()*(3/12), // Default is 300\n      edge: 'right', // Choose the horizontal origin\n      closeOnClick: false, // Closes side-nav on <a> clicks, useful for Angular/Meteor\n      draggable: false, // Choose whether you can drag to open on touch screens,\n      onOpen: function(el) { /* Do Stuff */ }, // A function to be called when sideNav is opened\n      onClose: function(el) { /* Do Stuff */ }, // A function to be called when sideNav is closed\n    }\n  );\nconsole.log($(window).width());\n/**\n * **************************\n * loadSVG\n * **************************\n * loads the given svg and appends it to the html element with the given id\n * \n * usage: loadSVG('svg-filename.svg', 'id-of-html-element')\n */\n\nloadSVG('levitation.svg', 'levitation-distance');\nloadSVG('brake-pad.svg', 'brake-pad-distance');\n\nfunction loadSVG(file,id) {\n  var xhr = new XMLHttpRequest;\n  xhr.open('get','img/'+file,true);\n  xhr.onreadystatechange = function(){\n    if (xhr.readyState != 4) return;\n    var svg = xhr.responseXML.documentElement;\n    svg = document.importNode(svg,true); // surprisingly optional in these browsers\n    $('#'+id).append(svg);\n  };\n  xhr.send();\n}\n\n","/**\n * ***************************************\n * Position and Strip Count Indicator Code\n * ***************************************\n * We define a new class, with methods to create and update the indicator\n * The object is declared using this class at the end of the file\n */\n\n/**\n * This is the constructor function for the class - It initializes a new Position Indicator object\n * parameters - An object with id, label, unit, count, and count_label\n */\nfunction PositionIndicator(parameters) {\n    for (var x in parameters) {\n        this[x] = parameters[x];\n    }\n}\n/**\n * init()\n * Create the Position Indicator and append it to the HTML element whose ID is supplied with parameters\n */\nPositionIndicator.prototype.init = function () {\n    /** If you change the total number of strips, then the angles in addCSS() also need to be changed */\n    var strips = 41;\n\n    var html = '<section class=\"position-indicator-container\"' + this.id + '>' +\n        '<div class=\"position-indicator ' + this.id + '\">' +\n        '<div class=\"outer-ring ' + this.id + '\">';\n    for (var i = 0; i < strips; i++) {\n        html += '<span class=\"tick ' + this.id + '\"></span>';\n    }\n\n    html += '</div>' + '<div class=\"details ' + this.id + '\">';\n\n    html += '<p class=\"count-label ' + this.id + '\">' + this.count_label + ' <span class=\"count\"> ' + this.count + '</span></p>' +\n        '<p class=\"label ' + this.id + '\">' + this.label + '</p>' +\n        '<p class=\"value ' + this.id + '\">' + this.value + '</p>' +\n        '<p class=\"unit ' + this.id + '\">' + this.unit + '</p>' +\n        '</div>' +\n        '</section>';\n\n    $('#' + this.id).append(html);\n\n    this.addCSS();\n}\n/**\n * addCSS()\n * Add css transforms to the ticks\n */\nPositionIndicator.prototype.addCSS = function () {\n    this.ticks = $('.tick.' + this.id);\n    this.details = $('.details.' + this.id);\n    this.outerRingRadius = 85;\n\n    var obj = this;\n    this.ticks.each(function (i) {\n        var angle = 210 - i * 6;\n        var theta = deg2rad(angle);\n        var radius = obj.outerRingRadius;\n        var x = Math.cos(theta) * radius;\n        var y = Math.sin(theta) * -radius;\n        var transform = ['translate(' + x + 'px, ' + y + 'px)', 'rotate(' + -angle + 'deg)'].join(' ');\n        $(this).css({\n            '-webkit-transform': transform,\n            '-moz-transform': transform,\n            'transform': transform,\n        });\n    });\n\n    this.updateStripCount();\n    this.updatePosition();\n}\n/**\n * updateStripCount()\n * Update the strip count\n */\nPositionIndicator.prototype.updateStripCount = function (count) {\n    if (count)\n        this.count = count;\n    var obj = this;\n    this.ticks.each(function (i) {\n        if (i + 1 <= obj.count) {\n            $(this).css({\n                'border-color': '#fff'\n            });\n        } else {\n            $(this).css({\n                'border-color': '#3b3d45'\n            });\n        }\n    });\n    this.details.find('.count').text(this.count);\n}\n/**\n * updatePosition()\n * Update the position\n */\nPositionIndicator.prototype.updatePosition = function (position) {\n    if (position)\n        this.value = position;\n    this.details.find('.value').text(this.value);\n}\n\n/**\n * This an object initialized using class PositionIndicator\n */\nvar p = new PositionIndicator({\n    id: 'position',\n    label: 'Position',\n    unit: 'm',\n    value: 0,\n    count: 0,\n    count_label: 'Strip'\n});\n\np.init();","/**\n ****************************\n * Slider code \n ****************************\n * We define a new class \n * Each slider is an object declared using this class\n * The sliders used are defined at the end of the file \n */\n\n/**\n * Constructor for @class Slider which initializes the Slider and attaches event handlers\n */ \nfunction Slider(parameters) {\n  // 'this' refers to the object. We Store the passed parameters as properties of the new object\n  for (var x in parameters) {\n    this[x] = parameters[x];\n  }\n  var obj = this;\n\n  var input = '#' + obj.id + ' .range-value';\n\n  //initialize the slider\n  $('#' + this.id).slider({\n    range: \"min\", //starts slider from min to max\n    max: obj.max,\n    min: obj.min,\n    value: 0,\n    slide: function (e, ui) { // function to be called on execution of slider\n      $(input).val(ui.value);\n    }\n  });\n\n  //Event handler attached to .range-value of each slider\n  //Purpose: If input is changed manually, set slider to that position\n  $(input).change(function () {\n    if ($(input).val() <= obj.max && $(input).val() >= obj.min) {\n      $('#' + obj.id).slider('value', $(input).val());\n    }\n  });\n}\n\n\n/**\n * Sliders we use :\n */\nvar brakes = new Slider({\n  'id': 'range1',\n  'max': 38,\n  'min': 8\n});\n\nvar aux = new Slider({\n  'id': 'range2',\n  'max': 50,\n  'min': 0\n});\n\n$('#range1 input').change(function() {\n    sendCommand(\"3\");\n    sendCommand($(this).val());\n}); ","'use strict';\n\n\nfunction SpeedGauge(parameters) {\n    for(var x in parameters) {\n        this[x] = parameters[x];\n    }\n}\n\nSpeedGauge.prototype.initGauge = function() {\n    var html = '<section class=\"speedometer-container\"'+this.id+'>'\n               + '<div class=\"speedometer '+this.id+'\">'\n               + '<div class=\"inner-ring '+this.id+'\"></div>'\n               + '<div class=\"outer-ring '+this.id+'\">';\n    for(var i=0; i<49; i++) {\n        html += '<span class=\"tick '+this.id+'\"></span>';\n    }\n    html += '</div>' + '<div class=\"digit-ring '+this.id+'\">';\n\n    for(var i=1; i<=9; i++) {\n        html += '<span class=\"digit '+this.id+'\">'+(i-1)*20+'</span>';\n    }\n    html += '</div>' + '<div class=\"details '+this.id+'\">';\n\n    html += '<p class=\"label '+this.id+'\">'+this.label+'</p>'\n            + '<p class=\"speed '+this.id+'\">'+this.value+'</p>'\n            + '<p class=\"unit '+this.id+'\">'+this.unit+'</p>'\n            + '</div>'\n            + '<div class=\"guage-progress '+this.id+'\"></div>'\n            + '</section>';\n\n    $('#'+this.id).append(html);\n\n    this.addCSS();\n}\nSpeedGauge.prototype.addCSS = function() {\n    this.ticks = $('.tick.'+this.id);\n    this.digits = $('.digit.'+this.id);\n    this.details = $('.details.'+this.id);\n    this.progress = $('.guage-progress.'+this.id);\n\n    this.outerRingRadius = 85;\n    this.digitRingRadius = 65;\n    var obj = this;\n        this.ticks.each(function (i) {\n        var angle = 210 - i * 5;\n        var theta = deg2rad(angle);\n        var radius = obj.outerRingRadius + (i % 6 ? 0 : 4);\n        var x = Math.cos(theta) * radius;\n        var y = Math.sin(theta) * -radius;\n        var transform = ['translate(' + x + 'px, ' + y + 'px)', 'rotate(' + -angle + 'deg)'].join(' ');\n        $(this).css({\n            '-webkit-transform': transform,\n            '-moz-transform': transform,\n            'transform': transform,\n        });\n    });\n\n    this.digits.each(function (i) {\n        var angle = 210 - i * 30;\n        var theta = deg2rad(angle);\n        var x = Math.cos(theta) * obj.digitRingRadius;\n        var y = Math.sin(theta) * -obj.digitRingRadius;\n        $(this).css({\n            '-webkit-transform': 'translate(' + x + 'px, ' + y + 'px)',\n            '-moz-transform': 'translate(' + x + 'px, ' + y + 'px)',\n            'transform': 'translate(' + x + 'px, ' + y + 'px)'\n        });\n    });\n    this.frameCount = 100;\n    this.frameInterval = 0.3;\n    this.digitValueMax = 160;\n    this.statValueMax = this.value;\n    this.statValueCurrent = 0;\n    this.statValueInterval = this.statValueMax / this.frameCount;\n\n    this.updateDetails();\n}\nSpeedGauge.prototype.updateDetails = function() {\n    if (this.statValueCurrent.toFixed(1) > this.statValueMax) {\n        return;\n    }\n    this.setStatValue(this.statValueCurrent.toFixed(1));\n    this.statValueCurrent += this.statValueInterval;\n    var obj = this;\n    setTimeout(function() {\n        obj.updateDetails();\n    }, this.frameInterval);\n}\n\nSpeedGauge.prototype.setStatValue= function(value) {\n    var angle = -120 + 240 * (value / this.digitValueMax);\n\n    this.progress.css({\n        'transform': 'rotate(' + angle + 'deg)'\n    });\n    this.details.find('.speed').text(value);\n}\n\nfunction deg2rad(angle) {\n    return angle * (Math.PI / 180);\n}\n\nfunction rad2deg(angle) {\n    return angle * (180 / Math.PI);\n}\n\nvar v = new SpeedGauge({\n    id: 'velocity',\n    label: 'Velocity',\n    unit: 'm/s',\n    value: 0.1\n});\nv.initGauge();\n\nvar a = new SpeedGauge({\n    id: 'acceleration',\n    label: 'Acceleration',\n    unit: 'm/s/s',\n    value: 0.1\n});\na.initGauge();","var pod_state = [\n  \"LVElec\",\n  \"Idle\",\n  \"Ready\",\n  \"AwaitPusherAttach\",\n  \"Pushing\",\n  \"LevAndBraking\",\n  \"DescAndBrakeRetr\",\n  \"Rolling\",\n  \"LSD\",\n  \"PodStop\",\n  \"EmStop\",\n  \"Fault\",\n  \"EB0\",\n  \"EB1\",\n  \"EB2\",\n  \"PowerOff\"\n];\n\nfunction update(data){\n    // comms\n    if(data.comm_primary)  \n      $('#primary-channel').removeClass().addClass('connected');\n    else\n      $('#primary-channel').removeClass();\n\n    if(data.comm_secondary)  \n      $('#secondary-channel').removeClass().addClass('connected');\n    else(data.comm_secondary)  \n      $('#secondary-channel').removeClass();\n    \n    $('#current-channel').text(data.comm_current);\n\n    // team id\n    if(data.Team_Id)\n      $('#team_id').text(parseFloat(data.Team_Id));\n    \n    // pod-status\n    if(data.Status_pod)\n      $('#pod-status').text(pod_state[data.Status_pod]);\n\n    // console\n    if(data.console_entry)\n      $('.console .display').append('<p class=\"console-entry\">['+data.timestamp+'] '+data.console_entry+'</p>');\n    \n    \n    // primary battery\n    for(var i=1;i<=2;i++){\n        var bat = $('#b-p'+(i));\n        bat.find('.temp').text(data['PWR_Temperature_'+i]);\n        bat.find('.current').text(data['PWR_Current_'+i]);\n        bat.find('.voltage').text(data['PWR_Voltage_'+i]);\n        //bat.find('.battery').removeClass().addClass('battery soc--'+data.battery_primary_soc[i]);\n        bat.find('.battery').removeClass().addClass('battery soc--4');\n\n      }\n    // secondary battery\n    /*$('#b-sec').find('.battery').removeClass().addClass('battery soc--'+data.battery_secondary_soc);\n    $('#b-sec').find('.temp').text(data.battery_secondary_temperature);\n    $('#b-sec').find('.current').text(data.battery_secondary_current);\n    // backup battery\n    $('#b-bk').find('.value').text((data.battery_backup)?'ON':'OFF');\n    */   \n    // temperature\n    if(data.CTRL_Temperature)\n      $('#temperature').text(data.CTRL_Temperature);\n    \n    // pressure\n    if(data.CTRL_Pressure)\n      $('#pressure').text(data.CTRL_Pressure);\n    \n\n    // strip count\n    if(data.Nav_RR_Strip_Count)\n      p.updateStripCount(data.Nav_RR_Strip_Count);\n    // position\n    if(data.Nav_Position)\n      p.updatePosition(data.Nav_Position);\n    // velocity\n    if(data.Nav_Velocity)\n      v.setStatValue(data.Nav_Velocity);\n    // acceleration\n    if(data.Nav_Acceleration)\n      a.setStatValue(data.Nav_Acceleration);\n    \n    // yaw pitch roll\n    if(data.Nav_Yaw)\n      yaw.setValueAnimated(data.Nav_Yaw,0.5);\n    \n    if(data.Nav_Pitch)\n      pitch.setValueAnimated(data.Nav_Pitch, 0.5);\n    \n    if(data.Nav_Roll)\n      roll.setValueAnimated(data.Nav_Roll, 0.5);\n    \n    // levitation\n    if(data.CTRL_LTS_Height_1_2)\n      $('#lev1').text(data.CTRL_LTS_Height_1_2);\n    \n    if(data.CTRL_LTS_Height_3_4)\n      $('#lev2').text(data.CTRL_LTS_Height_3_4);\n\n    // brake pads\n    if(data.Nav_LTS_Brake_1_2 && data.Nav_LTS_Brake_3_4){ \n      var avg_Brake_Pad = ( data.Nav_LTS_Brake_1_2 + data.Nav_LTS_Brake_3_4 )/2;\n      $('#brake-pad').text(avg_Brake_Pad);\n    }\n   \n    //pusher\n    /*if(!data.pusher || data.pusher==0){\n        $('.pusher').text('Disengaged')\n          .removeClass('engage')\n          .addClass('disengage');\n    }\n    else {\n       $('.pusher').text('Engaged')\n        .removeClass('disengage')\n        .addClass('engage');\n    }*/\n}\n\nvar socket = io.connect();\nsocket.on('connect', function() {\n  console.log(\"Connected!\"); \n});\n\nsocket.on('data_send', function(data) { \n  update(data);\n  DATA = data;\n});\n\nfunction sendCommand(command_name) {\n  socket.emit('pod_command', command_name);\n}","/**********************************\nStart/Emergency Stop Button\n**********************************/\n/*\n$(\".btn1\").click(function ()\n{\n    if ($(this).text()==\"Stop\")\n    {\n        sendCommand()\n        $(this).text(\"Start\");\n        sendCommand(\"Pod Start\");\n        $(this).removeClass('red');\n        $(this).addClass('teal');\n      }\n    else\n    {\n        $(this).text(\"Stop\");\n        sendCommand(\"Pod Stop\");\n        $(this).removeClass('teal');\n        $(this).addClass('red');\n    }\n});*/\n/**********************************\nToggle Button\n**********************************/\n//this is triggered for every input with type=checkbox\n$('input:checkbox').change( function(){\n    if($(this).is(':checked')) {\n        //add class checked (used for css styling)\n        $(this).closest('div').addClass('checked').trigger('switch');\n        \n        //if this switch is a command switch then send the string stored in the on-command attribute of the switch\n        if($(this).closest('div').attr('command')!=null) {\n            sendCommand($(this).closest('div').attr('on-command'));\n        }\n\n    } \n    else {\n        $(this).closest('div').removeClass('checked').trigger('switch');\n        \n        //if this switch is a command switch then send the string stored in the off-command attribute of the switch\n        if($(this).closest('div').attr('command')!=null) {\n            sendCommand($(this).closest('div').attr('off-command'));\n        }\n    }\n});\n/**\n * Event listener for the functional control toggle switch \n */\n$('.controls .switch input#controls-toggle').change(function() {\n   $('.controls .collapsible').collapsible('open', 0);\n});\n\n/**\n * Event listener for command buttons \n */\n$('button[command=true').click(function() {\n   sendCommand($(this).attr('commandByte'));\n});\n\n//append 4 bars to each battery\n$('.battery').each(function(i) {\n    for(var x=1; x<=4; x++){\n        $(this).append('<div class=\"bar\">');\n    }\n});\n\n\n","/**\n * **************************\n * Gauge for Yaw Pitch Roll\n * **************************\n * \n * This uses the SVG Gauge library \n * https://github.com/naikus/svg-gauge\n*/\nvar Gauge = window.Gauge;\n\nvar yaw = Gauge(\n  document.getElementById(\"yaw\"), {\n    max: 360,\n    dialStartAngle: -90,\n    dialEndAngle: -90.001,\n    value: 0,\n    label: function(value) {\n      return value+String.fromCharCode(176);\n    }\n  }\n);\n\nvar pitch = Gauge(\n  document.getElementById(\"pitch\"), {\n    max: 360,\n    dialStartAngle: -90,\n    dialEndAngle: -90.001,\n    value: 0,\n    label: function(value) {\n      return value+String.fromCharCode(176);\n    }\n  }\n);\n\nvar roll = Gauge(\n  document.getElementById(\"roll\"), {\n    max: 360,\n    dialStartAngle: -90,\n    dialEndAngle: -90.001,\n    value: 0,\n    label: function(value) {\n      return value+String.fromCharCode(176);\n    }\n  }\n);"]}